---
description: 
globs: 
alwaysApply: true
---
# üóÇÔ∏è  STRUKTURA PROJEKTU
################################################################################
file_system:
  new_files_allowed_paths:
    - App/**
    - Components/**
    - Core/**
    - Features/**
    - Models/**
    - Resources/**
  forbid_top_level_files: true
  editable_paths:
    - App/**
    - Components/**
    - Core/**
    - Features/**
    - Models/**
    - Resources/**

################################################################################
# üß≠  UMIEJSCOWIENIE KODU
################################################################################
coding_guidelines:
  enforce_folder_logic: true               # patrz konwencje poni≈ºej
  require_user_confirmation_for_ambiguous_files: true

  folder_conventions:
    - path: Features/**/Views/**
      purpose: "SwiftUI widoki + Preview"
    - path: Features/**/Models/**
      purpose: "modele danych, enums, DTO"
    - path: Core/Services/**
      purpose: "logika, sieƒá, persystencja"
    - path: Components/**
      purpose: "wielorazowe UI (Buttons, Cards‚Ä¶)"

################################################################################
# üìù  STYLE SWIFT
################################################################################
swift_style:
  language_version: "5.9"
  frameworks_allowed: [SwiftUI, Combine, Foundation]
  frameworks_disallowed: [UIKit, ObjectiveC]
  naming_convention: swift_default

  size_limits:
    component_soft_limit: 200      # linie ‚Äûkomfortowe‚Äù
    component_hard_limit: 500      # ABS‚Äëmax, w¬†skrajnych wypadkach
    description: "Powy≈ºej soft‚Äëlimit podziel kod¬†na¬†mniejsze widoki, view‚Äëmodele lub extension; przekroczenie hard‚Äëlimit zabronione."

  patterns_required:
    - "MARK pragmas": "U≈ºywaj // MARK: - dla grupowania metod & w≈Ça≈õciwo≈õci"
    - "MVVM separation": "ViewModel oddzielony od View; dane w¬†@Published"
    - "DependencyInjection": "Injectuj serwisy przez init, nie u≈ºywaj singleton√≥w poza AppEnvironment"
    - "SwiftUI Previews": "Ka≈ºdy publiczny View ma Preview z¬†MockData"
    - "swiftformat": "Przyjmij domy≈õlne regu≈Çy SwiftFormat przed wygenerowaniem outputu"

################################################################################
# ‚úÖ  WALIDACJA PRZED ODPOWIEDZIƒÑ
################################################################################
preflight_checks:
  - "Sprawd≈∫ ≈õcie≈ºkƒô docelowƒÖ ‚Äì czy mie≈õci siƒô w allowed_paths?"
  - "Zweryfikuj d≈Çugo≈õƒá ka≈ºdego edytowanego lub nowego pliku vs size_limits"
  - "Potwierd≈∫ u≈ºycie wymaganych wzorc√≥w i nie u≈ºywaj zabronionych framework√≥w"
  - "Je≈õli kt√≥rakolwiek regu≈Ça jest naruszona ‚Üí zamiast kodu ZADAJ u≈ºytkownikowi pytanie lub zaproponuj refaktor"